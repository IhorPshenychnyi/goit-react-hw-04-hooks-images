(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3IBXg",Modal:"Modal_Modal__1QyHN"}},13:function(e,t,a){e.exports={Button:"Button_Button__1a7GZ"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1LmDO"}},19:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3szeL",SearchForm:"Searchbar_SearchForm__TGPrP",SearchFormButton:"Searchbar_SearchFormButton__1-4-B",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__ijOiO",SearchFormInput:"Searchbar_SearchFormInput__48n0V"}},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),l=(a(19),a(20),a(3)),i=a(4),u=a.n(i),s=a(1);function m(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(s.jsx)("header",{className:u.a.Searchbar,children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r),o(""))},className:u.a.SearchForm,children:[Object(s.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(s.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(s.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=a(11),b=a(12),h=a.n(b);var d={fetchGallery:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22580810-f54a4b0451f19078aae6377b4","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("Not found ".concat(e)))}))}},f=a(9),O=a.n(f),g=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.alt,c=e.onOpenModal;return Object(s.jsx)("li",{className:O.a.ImageGalleryItem,onClick:function(){return c(a,n)},children:Object(s.jsx)("img",{src:t,alt:n,className:O.a.ImageGalleryItemImage})})},p=a(13),S=a.n(p),_=function(e){var t=e.onClick;return Object(s.jsx)("button",{type:"button",onClick:t,className:S.a.Button,children:"Load more"})},I=a(10),v=a.n(I),y=document.querySelector("#modal-root");function x(e){var t=e.largeImageURL,a=e.alt,c=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&c()};return Object(r.createPortal)(Object(s.jsx)("div",{className:v.a.Overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(s.jsx)("div",{className:v.a.Modal,children:Object(s.jsx)("img",{src:t,alt:a})})}),y)}a(42);var w=a(14),G=a.n(w);function L(e){var t=e.searchQuery,a=e.page,c=e.clickButton,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(null),b=Object(l.a)(m,2),f=b[0],O=b[1],p=Object(n.useState)("idle"),S=Object(l.a)(p,2),I=S[0],v=S[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),L=w[0],k=w[1],B=Object(n.useState)(""),F=Object(l.a)(B,2),N=F[0],C=F[1];Object(n.useEffect)((function(){t&&(1===a?(v("pending"),d.fetchGallery(t,a).then((function(e){e.total>0?(u(e.hits),v("resolved")):(O("Not found ".concat(t)),v("rejected"))})).catch((function(e){O(e),v("rejected")}))):d.fetchGallery(t,a).then((function(e){u((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))})),v("resolved")})).then((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){O(e),v("rejected")})))}),[t,a]);var E=function(e,t){k(e),C(t)};return"idle"===I?Object(s.jsx)("p",{children:"Enter something"}):"pending"===I?Object(s.jsx)(h.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3}):"rejected"===I?Object(s.jsx)("p",{children:f}):"resolved"===I?Object(s.jsxs)("div",{children:[Object(s.jsx)("ul",{className:G.a.ImageGallery,children:i.map((function(e){return Object(s.jsx)(g,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,alt:e.tags,onOpenModal:E},e.id)}))}),Object(s.jsx)(_,{onClick:c}),L&&Object(s.jsx)(x,{largeImageURL:L,alt:N,onClose:function(){k(""),C("")}})]}):void 0}a(43);var k=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(l.a)(r,2),i=o[0],u=o[1],j=function(){return u(1)};return Object(s.jsxs)("div",{children:[Object(s.jsx)(m,{onSubmit:function(e){c(e),j()}}),Object(s.jsx)(L,{searchQuery:a,page:i,clickButton:function(){return u((function(e){return e+1}))}})]})};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__38n6G",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1D8kE"}}},[[44,1,2]]]);
//# sourceMappingURL=main.ff668027.chunk.js.map